* { box-sizing: border-box; }
body { font-family: Arial, Helvetica, sans-serif; margin: 0; background: #f6f7fb; color: #222; }
header { background: #1e88e5; color: white; padding: 12px 16px; }
main { padding: 12px 16px; display: grid; gap: 16px; }

.controls { display: flex; flex-wrap: wrap; gap: 8px 12px; align-items: center; }
.controls button { background: #1e88e5; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; }
.controls button:hover { background: #1669b2; }
.controls #positionInfo { margin-left: auto; display: flex; gap: 12px; align-items: center; }

.map-section { height: 300px; min-height: 250px; }
#map { width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ddd; }

.puzzle-section { background: #fff; border-radius: 8px; padding: 12px; border: 1px solid #e6e6e6; }
.puzzle { display: grid; gap: 12px; grid-template-columns: 1fr 1fr; }
.puzzle-pool { 
    min-height: 300px; 
    background: #f0f3f7; 
    border: 2px dashed #b0bec5; 
    border-radius: 8px; 
    padding: 8px; 
    display: flex; 
    flex-wrap: wrap; 
    gap: 8px; 
    align-content: flex-start; 
    justify-content: center;
}

.puzzle-grid { 
    display: grid; 
    grid-template-columns: repeat(4, 100px); 
    grid-template-rows: repeat(4, 100px); 
    gap: 4px; 
    background: #fafafa; 
    border: 1px solid #ddd; 
    border-radius: 8px; 
    padding: 8px;
    justify-content: center;
}
.grid-cell { position: relative; width: 100px; height: 100px; background: #eef2f7; border: 1px dashed #cfd8dc; border-radius: 4px; display:flex; align-items:center; justify-content:center; }
.grid-cell.correct { border: 2px solid #66bb6a; background: #e8f5e9; }

.tile {
    width: 100%;
    height: 100%;
    border-radius: 4px;
    border: 1px solid #cfd8dc;
    cursor: grab;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    position: relative;
    z-index: 1;
    overflow: hidden;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
}

.tile img {
    width: 100%;
    height: 100%;
    pointer-events: none;
    user-select: none;
    -webkit-user-drag: none;
    display: block;
    object-fit: cover;
}

.puzzle-pool .tile {
    width: 100px;
    height: 100px;
}

.puzzle-grid .tile {
    width: 100%;
    height: 100%;
}
   
.tile.locked { cursor: default; box-shadow: none; border-color: #66bb6a; }

.status { margin-top: 8px; color: #555; }

@media (max-width: 900px) { .puzzle { grid-template-columns: 1fr; } .tile { width: calc(25% - 6px); } }
